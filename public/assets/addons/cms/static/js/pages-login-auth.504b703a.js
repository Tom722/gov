(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-auth"],{"21c9":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return i}));var i={faNavbar:n("df58").default,uModal:n("954b").default,uLoading:n("61e2").default},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("fa-navbar",{attrs:{title:"授权登录"}}),n("u-modal",{attrs:{title:"",content:t.content,"confirm-text":"返回","show-confirm-button":t.showConfirm},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("v-uni-view",{staticClass:"slot-content u-text-center u-m-b-30"},[n("u-loading",{attrs:{mode:"flower",size:"100"}}),n("v-uni-view",{staticClass:"u-p-20"},[t._v(t._s(t.content))])],1)],1)],1)},u=[]},"4dc8":function(t,e,n){"use strict";n.r(e);var i=n("84c3"),r=n.n(i);for(var u in i)"default"!==u&&function(t){n.d(e,t,(function(){return i[t]}))}(u);e["default"]=r.a},"84c3":function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var r=i(n("1da1")),u=n("be17"),a={mixins:[u.loginfunc],onLoad:function(){this.state=this.$util.getQueryString("state"),this.code=this.$util.getQueryString("code"),this.state&&this.code?this.goWxAuth():this.content="授权登录失败！"},data:function(){return{state:"",code:"",show:!0,showConfirm:!1,content:"授权登录中..."}},methods:{goWxAuth:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={code:this.code,state:this.state,platform:"wechat"},t.next=3,this.$api.goAuthCallback(e);case 3:if(n=t.sent,n&&0!==n.code){t.next=8;break}return this.content="授权登录失败！",this.showConfirm=!0,t.abrupt("return");case 8:if(!n.data.user){t.next=12;break}return this.$u.vuex("vuex_token",n.data.user.token),this.success(),t.abrupt("return");case 12:this.$u.vuex("vuex_third",n.data.third),this.$u.route("/pages/login/register",{bind:"bind"});case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),confirm:function(){window.history.go(-2)}}};e.default=a},"9f97":function(t,e,n){"use strict";n.r(e);var i=n("21c9"),r=n("4dc8");for(var u in r)"default"!==u&&function(t){n.d(e,t,(function(){return r[t]}))}(u);var a,o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"ff676298",null,!1,i["a"],a);e["default"]=s.exports}}]);